import { useAuth } from '../store/AuthContext';

const translations = {
  vi: {
    'settings.title': 'Cài đặt tài khoản',
    'settings.profile': 'Hồ sơ',
    'settings.security': 'Bảo mật',
    'settings.notifications': 'Thông báo',
    'settings.preferences': 'Ngôn ngữ & Giao diện',
    'settings.theme': 'Giao diện',
    'settings.language': 'Ngôn ngữ',
    'settings.light': 'Sáng',
    'settings.dark': 'Tối',
    'settings.system': 'Hệ thống',
    'settings.save': 'Lưu cài đặt',
    'settings.saving': 'Đang lưu...',
    'settings.success': 'Đã cập nhật thành công!',
    'settings.error': 'Có lỗi xảy ra. Vui lòng thử lại.',
    'common.login': 'Đăng nhập',
    'common.logout': 'Đăng xuất',
    'nav.create': 'Tạo mới',
    'nav.library': 'Thư viện',
    'nav.trash': 'Thùng rác',
    'nav.settings': 'Cài đặt',
    'nav.logout': 'Đăng xuất',
    'nav.login': 'Đăng nhập',
    'nav.register': 'Đăng ký',
    'nav.loggedInAs': 'Đang đăng nhập',
    'settings.security.title': 'Bảo mật & Đăng nhập',
    'settings.password.title': 'Đổi mật khẩu',
    'settings.password.current': 'Mật khẩu hiện tại',
    'settings.password.new': 'Mật khẩu mới',
    'settings.password.confirm': 'Xác nhận mật khẩu mới',
    'settings.password.update': 'Cập nhật mật khẩu',
    'settings.password.updating': 'Đang cập nhật...',
    'settings.2fa.title': 'Xác thực hai bước (2FA)',
    'settings.2fa.desc': 'Bảo vệ tài khoản của bạn bằng lớp bảo mật thứ hai.',
    'settings.2fa.soon': 'Tính năng này đang được phát triển và sẽ sớm ra mắt.',
    'settings.notifications.title': 'Cài đặt thông báo',
    'settings.notifications.email': 'Thông báo qua Email',
    'settings.notifications.emailDesc': 'Nhận cập nhật về các bài trắc nghiệm mới và kết quả.',
    'settings.notifications.push': 'Thông báo đẩy (Push)',
    'settings.notifications.pushDesc': 'Nhận thông báo ngay lập tức trên trình duyệt.',
    'settings.notifications.activity': 'Tóm tắt hoạt động',
    'settings.notifications.activityDesc': 'Nhận email tổng hợp hoạt động hàng tuần.',
    'settings.profile.title': 'Thông tin cá nhân',
    'settings.profile.name': 'Tên hiển thị',
    'settings.profile.bio': 'Giới thiệu bản thân',
    'settings.profile.bioPlaceholder': 'Chia sẻ đôi điều về bạn...',
    'settings.profile.danger': 'Vùng nguy hiểm',
    'settings.profile.delete': 'Xóa tài khoản',
    'settings.profile.deleteDesc': 'Hành động này sẽ xóa vĩnh viễn tài khoản của bạn và tất cả các bài trắc nghiệm bạn đã tạo. Không thể hoàn tác.',
    'settings.profile.deleteBtn': 'Xóa tài khoản vĩnh viễn',
  },
  en: {
    'settings.title': 'Account Settings',
    'settings.profile': 'Profile',
    'settings.security': 'Security',
    'settings.notifications': 'Notifications',
    'settings.preferences': 'Language & Theme',
    'settings.theme': 'Theme',
    'settings.language': 'Language',
    'settings.light': 'Light',
    'settings.dark': 'Dark',
    'settings.system': 'System',
    'settings.save': 'Save Settings',
    'settings.saving': 'Saving...',
    'settings.success': 'Updated successfully!',
    'settings.error': 'An error occurred. Please try again.',
    'common.login': 'Login',
    'common.logout': 'Logout',
    'nav.create': 'Create',
    'nav.library': 'Library',
    'nav.trash': 'Trash',
    'nav.settings': 'Settings',
    'nav.logout': 'Logout',
    'nav.login': 'Login',
    'nav.register': 'Register',
    'nav.loggedInAs': 'Logged in as',
    'settings.security.title': 'Security & Login',
    'settings.password.title': 'Change Password',
    'settings.password.current': 'Current Password',
    'settings.password.new': 'New Password',
    'settings.password.confirm': 'Confirm New Password',
    'settings.password.update': 'Update Password',
    'settings.password.updating': 'Updating...',
    'settings.2fa.title': 'Two-Factor Authentication (2FA)',
    'settings.2fa.desc': 'Protect your account with a second layer of security.',
    'settings.2fa.soon': 'This feature is under development and coming soon.',
    'settings.notifications.title': 'Notification Settings',
    'settings.notifications.email': 'Email Notifications',
    'settings.notifications.emailDesc': 'Receive updates about new quizzes and results.',
    'settings.notifications.push': 'Push Notifications',
    'settings.notifications.pushDesc': 'Receive immediate notifications in your browser.',
    'settings.notifications.activity': 'Activity Summary',
    'settings.notifications.activityDesc': 'Receive weekly activity summary emails.',
    'settings.profile.title': 'Personal Information',
    'settings.profile.name': 'Display Name',
    'settings.profile.bio': 'Bio',
    'settings.profile.bioPlaceholder': 'Share something about yourself...',
    'settings.profile.danger': 'Danger Zone',
    'settings.profile.delete': 'Delete Account',
    'settings.profile.deleteDesc': 'This action will permanently delete your account and all quizzes you created. This cannot be undone.',
    'settings.profile.deleteBtn': 'Delete Account Permanently',
  }
};

export const useTranslation = () => {
  const { user } = useAuth();
  const language = user?.preferences?.language || 'vi';

  const t = (key: string) => {
    const lang = language as keyof typeof translations;
    return translations[lang][key as keyof typeof translations['vi']] || key;
  };

  return { t, language };
};
